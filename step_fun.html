<html>

<head>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js">
    </script>
    </head>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="random_fun.js"></script>
    <script type="module">

        import * as Plot from "https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/+esm";
        var data = gen_mult_arrays_flat(3, 4);

        document.body.append(
            Plot.plot({
                color: {
                    type: "categorical"
                },
                marks: [
                    Plot.line(data, {
                        x: "i",
                        y: "r",
                        curve: "step",
                        stroke: "l"
                    }),
                    Plot.text(data, Plot.selectLast({
                        x: "i",
                        y: "r",
                        z: "l",
                        text: "l",
                        textAnchor: "start",
                        dx: 3
                    }))
                ]
            })

        );

    </script>
</head>

<body>

    <fieldset id="scale_notes">
        <legend>Choose scale notes</legend>
        <div>
            <input type="checkbox" id="C" name="C" value=0 checked />
            <label for="">C</label>
        </div>
        <div>
            <input type="checkbox" id="C#" name="C#" value=1 />
            <label for="C#">C#</label>
        </div>
        <div>
            <input type="checkbox" id="D" name="D" value=2 checked />
            <label for="D">D</label>
        </div>
        <div>
            <input type="checkbox" id="D#" name="D#" value=3 />
            <label for="D#">D#</label>
        </div>
        <div>
            <input type="checkbox" id="E" name="E" value=4 checked />
            <label for="E">E</label>
        </div>
        <div>
            <input type="checkbox" id="F" name="F" value=5 checked />
            <label for="F">F</label>
        </div>
        <div>
            <input type="checkbox" id="F#" name="F#" value=6 />
            <label for="F#">F#</label>
        </div>
        <div>
            <input type="checkbox" id="G" name="G" value=7 checked />
            <label for="G">G</label>
        </div>
        <div>
            <input type="checkbox" id="G#" name="G#" value=8 />
            <label for="G#">G#</label>
        </div>
        <div>
            <input type="checkbox" id="A" name="A" value=9 checked />
            <label for="A">A</label>
        </div>
        <div>
            <input type="checkbox" id="A#" name="A#" value=10 />
            <label for="A#">A#</label>
        </div>
        <div>
            <input type="checkbox" id="B" name="B" value=11 checked />
            <label for="B">B</label>
        </div>
    </fieldset>


    <button onclick="getChecked()">Use selected notes in scale</button>
    <br>
    <input id="rootnote" type="number" value="60" min="24" max="127">choose root note integer</input>

    <script>
        function getChecked() {
            var ids = $("fieldset :checkbox")
                .filter(function() {return this.checked;})
                .map(function() {return this.value;})
                .get();
        }
    </script>
    
</body>

</html>